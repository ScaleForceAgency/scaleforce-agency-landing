---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import AiServicesPanel from '~/components/widgets/Content.astro';
import StandardServices from '~/components/widgets/Features2.astro';
import DevProcess from '~/components/widgets/Steps.astro';
import ClientSuccess from '~/components/widgets/Features.astro';
import ClientStats from '~/components/widgets/Stats.astro';
import FAQs from '~/components/widgets/FAQs.astro';
// import CallToAction from '~/components/widgets/CallToAction.astro';
// import Calendly from '~/components/widgets/Calendly.astro';
import Contact from '~/components/widgets/Steps2.astro';
import BlogLatestPosts from '~/components/widgets/BlogLatestPosts.astro';

import AiSummarizerAgent from '../assets/images/ai-summarizer-agent.png';
import AiVoiceAgent from '../assets/images/ai-voice-agent.png';
import AiAgentSwarm from '../assets/images/ai-agent-swarm.png';
import DevelopmentProcess from '../assets/images/development-process.png';

import { getPermalink } from '../utils/permalinks';
import { fetchRecords } from '../integrations/astro-airtable/astro-airtable';

const metadata = {
  title: 'Scale Force â€” Operations, Integrations, Automations, AI and Agency-as-a-Service Swarms',
  ignoreTitleTemplate: true,
};

// Fetch records from Airtable
// const images = await fetchRecords('tbloYsMufgsZtzC1K');
const heroCard = await fetchRecords('tblAsYTU6dXOJy8T2');
const servicesCards = await fetchRecords('tblp5aKVIReTS7nLu');
const featuresCards = await fetchRecords('tbleTFUxoCvZE33be');
const faqCards = await fetchRecords('tblrN7pkkDGi2PhT9');
const contactCards = await fetchRecords('tblwAvEwPXTbW3NJT');
---

<Layout metadata={metadata}>
  
  <!-- Hero Widget ******************* -->
   
  <Hero
  id="welcome"
    title={`${heroCard[0].title}`}
    subtitle={`${heroCard[0].description}`}
    actions={[
      { variant: 'primary', text: 'Book A Call', href: getPermalink('/#calendly'), icon: 'tabler:square-rounded-arrow-right' },
      { text: 'Learn more', href: getPermalink('/#services') },
    ]}
  />

  <!-- AiServicesPanel Widget 1/3 **************** -->

  <AiServicesPanel
    id="services"
    isReversed
    tagline={`${servicesCards[0].description}`}
    title={`${servicesCards[0].title}`}
    items={[...servicesCards].slice(2,6)}
    image={{
      src: AiSummarizerAgent,
      alt: 'AI Summarizer Agent',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        {`${servicesCards[1].title}`}
      </h3>
      {`${servicesCards[1].description}`}
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </AiServicesPanel>

  <!-- AiServicesPanel Widget 2/3 **************** -->

  <AiServicesPanel
    isAfterContent
    items={[...servicesCards].slice(7,11)}
    image={{
      src: AiVoiceAgent,
      alt: 'AI Voice Agent',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        {`${servicesCards[6].title}`}
      </h3>
      {`${servicesCards[6].description}`}
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </AiServicesPanel>

  <!-- AiServicesPanel Widget 3/3 **************** -->

  <AiServicesPanel
    isReversed
    isAfterContent
    items={[...servicesCards].slice(12,16)}
    image={{
      src: AiAgentSwarm,
      alt: 'AI Agent Swarm',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        {`${servicesCards[11].title}`}
      </h3>
      {`${servicesCards[11].description}`}
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </AiServicesPanel>

  <!-- Standard Offerings Widget *************** -->

  <StandardServices
    title={`${servicesCards[16].title}`}
    subtitle={`${servicesCards[16].description}`}
    items={[...servicesCards].slice(17,26)}
  >
  <Fragment slot="bg">
    <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
  </Fragment>
</StandardServices>

  <!-- Development Process Widget *************** -->

  <DevProcess
  id="features"
  tagline={`${featuresCards[0].title}`}
  title={`${featuresCards[1].title}`}
  subtitle={`${featuresCards[1].description}`}
  items={[...featuresCards].slice(2,7)}
  image={{
    src: DevelopmentProcess,
    alt: 'Development Process',
  }}
/>

  <!-- Client Success Widget *************** -->

  <ClientSuccess
  title={`${featuresCards[8].title}`}
  subtitle={`${featuresCards[8].description}`}
    columns={2}
    items={[...featuresCards].slice(9,15)}
  />
  
  <!-- Client Stats Widget *************** -->

  <ClientStats stats={[...featuresCards].slice(16)} />

  <!-- FAQs Widget ******************* -->

  <FAQs
    id="faq"
    title={`${faqCards[0].title}`}
    items={[...faqCards].slice(1)}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </FAQs>

  <!-- Call To Action Widget *********** -->

  <!-- <CallToAction
    actions={[
      {
        variant: 'primary',
        text: 'Get template',
        href: 'https://github.com/onwidget/astrowind',
        target: '_blank',
        icon: 'tabler:download',
      },
    ]}
  >
    <Fragment slot="title">
      Astro&nbsp;+&nbsp;<br class="block sm:hidden" /><span class="sm:whitespace-nowrap">Tailwind CSS</span>
    </Fragment>

    <Fragment slot="subtitle">
      Be very surprised by these huge fake numbers you are seeing on this page. <br class="hidden md:inline" />Don't
      waste more time! :P
    </Fragment>
  </CallToAction> -->

  <!-- Calendly Widget -->

  <!-- <Calendly
    id="calendly"
  /> -->

  <!-- Contact Widget ****************** -->

  <Contact
    id="contact"
    title={`${contactCards[0].title}`}
    subtitle={`${contactCards[0].description}`}
    callToAction={{
      text: 'Contact us',
      // TODO; create contact form
      href: '/contact',
    }}
    items={[...contactCards].slice(1)}
  />

  <!-- Use Cases Blog Widget **************** -->

  <BlogLatestPosts
    id="blog"
    title="Explore use cases on the Scale Force blog"
    information={`Explore our collection of articles, guides, and use case studies on automations, integrationss, and using AI effectively for your business.`}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </BlogLatestPosts>
</Layout>
